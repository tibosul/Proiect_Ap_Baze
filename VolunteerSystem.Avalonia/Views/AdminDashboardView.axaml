<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:VolunteerSystem.Avalonia.ViewModels"
             x:Class="VolunteerSystem.Avalonia.Views.AdminDashboardView"
             x:DataType="vm:AdminDashboardViewModel">
    <DockPanel Margin="20">
        <Grid DockPanel.Dock="Top" ColumnDefinitions="*, Auto" Margin="0,0,0,20">
            <TextBlock Grid.Column="0" Text="{Binding WelcomeMessage}" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
            <Button Grid.Column="1" Content="Logout" Command="{Binding LogoutCommand}" Foreground="Red"/>
        </Grid>

        <TextBlock DockPanel.Dock="Top" Text="User Management" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,10"/>

        <ScrollViewer>
            <ListBox ItemsSource="{Binding Users}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="#DDD" BorderThickness="1" Padding="10" CornerRadius="5">
                            <Grid ColumnDefinitions="*, Auto, Auto, Auto">
                                <StackPanel Grid.Column="0" Spacing="2">
                                    <TextBlock Text="{Binding Email}" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding Id, StringFormat='ID: {0}'}" FontSize="12" Foreground="Gray"/>
                                </StackPanel>
                                
                                <TextBlock Grid.Column="1" Text="Type: " VerticalAlignment="Center" Margin="10,0,0,0"/>
                                <TextBlock Grid.Column="2" Text="{Binding, Converter={x:Static ObjectConverters.IsNull}}" VerticalAlignment="Center"/> 
                                <!-- Placeholder for Type: In real app, bind to role or type check via Converter -->
                                
                                <Button Grid.Column="3" Content="Delete" 
                                        Command="{Binding $parent[UserControl].((vm:AdminDashboardViewModel)DataContext).DeleteUserCommand}"
                                        CommandParameter="{Binding}"
                                        Foreground="White" Background="#F44336" Margin="20,0,0,0"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ScrollViewer>
    </DockPanel>
</UserControl>
